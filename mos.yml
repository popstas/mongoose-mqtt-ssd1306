author: popstas
description: Webhook button
version: 1.0.0

libs_version: ${mos.version}
modules_version: ${mos.version}
mongoose_os_version: ${mos.version}
platform: esp8266

tags:
  - c

sources:
  - src

filesystem:
  - fs

config_schema:
  - ["app", "o", "", {"title": "Button settings"}]
  - ["app.mqtt_topic", "s", "status/tablo", {"title": "MQTT subscribe topic"}]
  - ["app.text_size", "i", 4, {"title": "Font size"}]
  - ["i2c.enable", true]
  - ["i2c.debug", true]
  # https://steve.fi/Hardware/d1-pins/
  - ["i2c.sda_gpio", "i", 4, {title: "GPIO to use for SDA"}] # D2
  - ["i2c.scl_gpio", "i", 5, {title: "GPIO to use for SCL"}] # D1
  - ["mqtt.enable", true]
  - ["mqtt.reconnect_timeout_min", 2]
  - ["mqtt.reconnect_timeout_max", 300]

libs:
  - origin: https://github.com/mongoose-os-libs/arduino-adafruit-ssd1306
  - origin: https://github.com/mongoose-os-libs/boards
  - origin: https://github.com/mongoose-os-libs/i2c
  # - origin: https://github.com/mongoose-os-libs/rpc-service-i2c # I2C.Scan()
  # - origin: https://github.com/mongoose-os-libs/pcf857x-i2c # lcd 16x2
  - origin: https://github.com/mongoose-os-libs/mjs
  - origin: https://github.com/mongoose-os-libs/mqtt
  # - origin: https://github.com/mongoose-os-libs/ota-http-client
  - origin: https://github.com/mongoose-os-libs/ota-http-server # https://mongoose-os.com/docs/mongoose-os/userguide/ota.md
  - origin: https://github.com/mongoose-os-libs/rpc-service-config # for mos config
  - origin: https://github.com/mongoose-os-libs/rpc-service-fs # for edit files
  - origin: https://github.com/mongoose-os-libs/rpc-uart # for mos config
  - origin: https://github.com/mongoose-os-libs/wifi

# Used by the mos tool to catch mos binaries incompatible with this file format
manifest_version: 2017-09-29
